:root{
  --bg:#0f1724;
  --card:#0b1220;
  --accent:#ff9ab3;
  --muted:#94a3b8;
  --success:#7ee787;
  --danger:#ff7b7b;
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
/* Base layout */
*{box-sizing:border-box;font-family:var(--font-family)}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#071021 0%, #081427 60%);color:#e6eef8}
.app{max-width:1000px;margin:20px auto;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));min-height:720px;position:relative;overflow:hidden;box-shadow:0 6px 30px rgba(2,6,23,0.6)}
header{display:flex;align-items:center;justify-content:space-between;padding:8px 16px}
h1{margin:0;font-size:28px;letter-spacing:1px;color:var(--accent)}
.scene{display:none;padding:18px;height:calc(100% - 68px);position:relative}
.scene.active{display:block}
.center{display:flex;align-items:center;justify-content:center}
.title-big{font-size:40px;margin-bottom:12px}
button, .btn{background:linear-gradient(90deg,var(--accent), #ffccd8);border:0;padding:12px 18px;border-radius:999px;color:#051025;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(255,154,179,0.12)}
.muted{color:var(--muted);font-size:14px}
.row{display:flex;gap:12px;align-items:center}
.col{display:flex;flex-direction:column;gap:12px}

/* Stage & character */
.stage{position:absolute;right:18px;top:80px;width:360px;height:560px;background:linear-gradient(180deg,rgba(255,255,255,0.02), rgba(0,0,0,0.06));border-radius:12px;padding:12px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02);display:flex;flex-direction:column;align-items:center;gap:10px;overflow:hidden}

/* Cute full-body character (CSS) */
.character{width:180px;height:360px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;transform-origin:center bottom;transition:transform .45s ease;animation:bob 3s ease-in-out infinite;position:relative}
@keyframes bob{0%{transform: translateY(0)}50%{transform: translateY(-6px)}100%{transform: translateY(0)}}
.character .head{width:110px;height:110px;border-radius:50%;background:linear-gradient(180deg,#ffe9f0,#ffdfec);position:relative;margin-top:18px;box-shadow:0 8px 18px rgba(0,0,0,0.25);display:flex;align-items:center;justify-content:center}
.hair{position:absolute;top:-6px;left:0;right:0;height:62px;border-top-left-radius:60px;border-top-right-radius:60px;background:linear-gradient(180deg,#6f2b6f,#9b3a83);z-index:2}
.hair:after{content:'';position:absolute;left:18px;bottom:-8px;width:24px;height:36px;border-radius:14px;background:rgba(0,0,0,0.05);transform:rotate(-12deg)}
.eyes{position:absolute;top:44px;display:flex;gap:18px;left:0;right:0;justify-content:center;z-index:3}
.eye{width:12px;height:12px;border-radius:50%;background:#051025;box-shadow:0 2px 0 rgba(255,255,255,0.06) inset}
.mouth{position:absolute;top:66px;width:28px;height:12px;border-radius:12px;background:#ff7b9a;transform:translateY(0);z-index:3}
.blush{position:absolute;top:64px;width:20px;height:10px;border-radius:50%;background:rgba(255,123,154,0.18)}
.blush.left{left:18px}
.blush.right{right:18px}

.body{width:130px;height:160px;background:linear-gradient(180deg,#ffdce8,#ffbcd1);border-radius:20px;margin-top:12px;position:relative;display:flex;align-items:flex-start;justify-content:center;flex-direction:column;padding-top:24px;box-shadow:0 10px 24px rgba(0,0,0,0.25)}
.torso-deco{width:60px;height:60px;margin:0 auto;border-radius:50%;background:rgba(255,255,255,0.03)}
.dress-deco{width:100%;height:40px;background:linear-gradient(90deg,#fff4f7, rgba(255,255,255,0.06));border-bottom-left-radius:20px;border-bottom-right-radius:20px;position:absolute;bottom:0}

.arm{position:absolute;width:22px;height:70px;background:linear-gradient(180deg,#ffdfe6,#ffced8);border-radius:14px;top:78px;transform-origin:top center;transition:transform .28s ease;box-shadow:0 6px 14px rgba(0,0,0,0.18)}
.arm.left{left:-6px; transform: rotate(-8deg)}
.arm.right{right:-6px; transform: rotate(6deg)}
.arm.wave{animation: wave 1.1s ease-in-out infinite}
@keyframes wave{0%{transform:rotate(6deg)}25%{transform:rotate(30deg)}50%{transform:rotate(6deg)}75%{transform:rotate(-8deg)}100%{transform:rotate(6deg)}}

.legs{display:flex;gap:18px;margin-top:18px}
.leg{width:18px;height:70px;background:linear-gradient(180deg,#ffdfe6,#ffc9d7);border-radius:10px;box-shadow:0 8px 18px rgba(0,0,0,0.18)}
.heart{position:absolute;left:18px;top:8px;font-size:18px;opacity:0.9;animation: floatHeart 2.5s ease-in-out infinite}
@keyframes floatHeart{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-8px) scale(1.06)}100%{transform:translateY(0) scale(1)}}
.character.kiss{ transform: translateY(-10px) scale(1.02) rotate(-2deg) }
.character.kiss .mouth{ transform: scale(0.85) translateY(4px) ; border-radius:50% 50% 50% 50% / 40% 40% 60% 60%}

/* Small UI */
input[type="text"], textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:inherit;outline:none;font-size:15px}
.options{display:flex;flex-wrap:wrap;gap:8px}
.option{background:var(--glass-2);padding:10px 12px;border-radius:10px;cursor:pointer;border:1px solid transparent}
.option.correct{border-color:var(--success)}
.option.wrong{border-color:var(--danger)}
.small{font-size:13px;padding:6px 8px;border-radius:8px}
.skip{background:transparent;border:1px dashed rgba(255,255,255,0.08);color:var(--muted)}
footer{position:absolute;left:18px;bottom:18px;right:18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
.log{background:linear-gradient(90deg,#061426,#08162a);padding:10px;border-radius:8px;color:var(--muted);font-size:13px}

/* Maze & puzzle */
.maze{width:460px;height:460px;background:#071426;border-radius:8px;padding:10px;display:grid;grid-template-columns:repeat(10,1fr);grid-template-rows:repeat(10,1fr);gap:4px}
.cell{background:#071824;border-radius:4px;display:flex;align-items:center;justify-content:center;color:transparent;font-weight:700}
.cell.wall{background:#042033}
.player{background:linear-gradient(180deg,#ffdce3,#ffb7cc);color:#051025;border:2px solid rgba(255,255,255,0.12)}
.goal{background:linear-gradient(180deg,#c7fffc,#a8fff9);color:#051025;border:2px solid rgba(255,255,255,0.06)}
.controls{display:flex;flex-direction:column;gap:8px}
.arrow{width:54px;height:54px;border-radius:10px;background:var(--glass);display:flex;align-items:center;justify-content:center;cursor:pointer}
.locks{display:flex;gap:12px;align-items:center}
.lock{width:88px;height:88px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));display:flex;align-items:center;justify-content:center;flex-direction:column;gap:6px}
.lock.open{background:linear-gradient(180deg,#c7ffd7,#e6fff1);color:#052018}
.hug-anim{display:flex;gap:12px;align-items:center}
.person{width:160px;height:240px;border-radius:12px;background:linear-gradient(180deg,#ffeef3,#fff7f2);display:flex;align-items:center;justify-content:center;font-size:32px}

/* Puzzle grid */
.puzzle{width:540px;height:540px;border-radius:8px;background:#071426;padding:10px;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:6px}
.piece{background:#111827;border-radius:4px;overflow:hidden;display:flex;align-items:center;justify-content:center;cursor:grab}
.piece img{width:100%;height:100%;object-fit:cover;display:block;pointer-events:none}
.completed{border:3px solid var(--success);box-shadow:0 12px 40px rgba(126,231,135,0.12)}

/* Small screens */
@media (max-width:1000px){
  .stage{position:relative;width:100%;height:auto;margin-top:12px}
  .content-left{width:100%}
  .character{width:160px;height:320px}
  .maze{width:320px;height:320px}
  .puzzle{width:320px;height:320px}
}